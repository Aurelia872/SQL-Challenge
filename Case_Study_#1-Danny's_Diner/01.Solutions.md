###  ðŸ“Œ I have used mySQL to execute queries and find the solutions


## 01. What is the total amount each customer spent at the restaurant? ##

#### SQL Query

````sql
select sales.customer_id, sum(menu.price)
from sales inner join menu on sales.product_id= menu.product_id group by sales.customer_id;
````
<ol>
  <p> ->SELECT command is used to display customer_id from sales table and the sum of price from menu table</p>
  <p> ->sales and menu tables are joined on the next line</p>
</ol>

#### Answer:

<img width="172" height="75" alt="image" src="https://github.com/user-attachments/assets/464616ec-9b83-433a-8491-922146f926d2" />

- Customer A spent $76.
- Customer B spent $74.
- Customer C spent $36.

***

## 02. How many days has each customer visited the restaurant? ##

#### SQL Query

````sql
select customer_id, 
count(distinct order_date) as days_visited 
from sales group by customer_id;
````
<ol>
  <p> ->Distict dates that orders were placed are queried with COUNT and DISTINCT functions and displayed alongside customer_id</p>
  <p> ->Results are automatically counted and matched according to each customer</p>
</ol>

#### Answer:

<img width="183" height="73" alt="image" src="https://github.com/user-attachments/assets/352ae33a-df14-49d4-a644-a96dcac3ac9c" />


- Customer A visited 4 days.
- Customer B visited 6 days.
- Customer C visited 2 days.

***

## 03. What was the first item from the menu purchased by each customer? ##

#### SQL Query

````sql
select
sales.customer_id as Customer,
min(sales.order_date) as Order_date,
any_value(menu.product_name) as First_item
from sales
inner join menu
on sales.product_id= menu.product_id
group by sales.customer_id;
````
<ol>
  <p> ->Inner join is used to pull data from 2 tables</p>
  <p> ->The customer_id is queried along with the calculated minimum order date from sales table and product name is pulled to display the first product on the first order date per customer</p>
  <p> ->The 'any_value' SQL command is used to avoid errors that may occur due to the group_by function </p>
  <p> ->All results are grouped by customer_id</p>
</ol>

#### Answer:

<img width="223" height="76" alt="image" src="https://github.com/user-attachments/assets/6ccb40ed-4b46-4b59-9175-9a3c5c7fd668" />


- Customer A ordered Sushi first.
- Customer B ordered Curry first.
- Customer C ordered Ramen first.

***

## 04. What is the most purchased item on the menu and how many times was it purchased by all customers? ##

#### SQL Query

````sql
select 
product_name, COUNT(s.product_id) AS purchased
from
	sales s,
	menu m
 where
   m.product_id = s.product_id
 group by product_name
 order by purchased DESC
 limit 1;
````
<ol>
  <p> ->The product name and the count of that product id has been queried.</p>
  <p> ->Then the results are grouped as per the product name and ordered by the count by descending order to display the highest first.</p>
  <p> ->Then the results are limited for 1 only so that only the most popular product is displayed.</p>
</ol>

#### Answer:

<img width="176" height="55" alt="image" src="https://github.com/user-attachments/assets/5b18e6bf-2d4f-46e0-a004-25a65f948958" />

- The most purchased product is Ramen with a total of 8 purchases

  ***

## 05. Which item was the most popular for each customer? ##

#### SQL Query

````sql
select customer_id, product_name
from (
select s.customer_id, m.product_name, count(*) as frequency, 
row_number () over (partition by s.customer_id order by count(*) desc) as favorite
from 
sales s inner join menu m on s.product_id = m.product_id
group by s.customer_id, m.product_name)
as sub
where favorite = 1;
````
<ol>
  <p> ->A sub query has been used here for calculation and the outer query is used to filter out only the favorite</p>
  <p> ->In the subquery;</p> 
  <p> -->INNER JOIN is used to query from menu and product tables.</p>
  <p> -->Then the results are GROUPED as per the customer_id and product name.</p>
  <p> -->The query is PARTITIONED by customer id and ORDERED by the count - renamed as favorite; and then row number is applied accordingly.</p>
  <p> ->Finally the WHERE function is used to filter out the results from the sub query to display only the most purchased otems by each customer</p>
</ol>

#### Answer:

<img width="185" height="80" alt="image" src="https://github.com/user-attachments/assets/ce8ad289-f718-48b0-92f4-fbb589467b77" />


- Customers A and C purchased Ramen the most.
- Customer B likes Curry.


